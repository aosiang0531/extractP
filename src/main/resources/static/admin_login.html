<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>萃・練｜後台管理系統｜登入</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />

    <link href="css/styles2.css" rel="stylesheet" />
  </head>
  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.1/dist/umd/popper.min.js"
      integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js"
      integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <header>
      <nav class="custom-navbar navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
          <img
            src="images/logo.png"
            alt="Logo"
            width="130"
            height="60"
            class="d-inline-block align-text-top"
          />
          <a class="navbar-brand">後台管理系統</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <!-- <li class="nav-item">
                            <a class="nav-link" href="admin_register.html">管理員註冊</a>
                        </li>         -->
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="container mt-4">
      <h1 class="text-center">管理員登入</h1>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="loginForm">
            <div class="mb-3">
              <label for="username" class="form-label">帳號(Email)</label>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="請輸入帳號..."
              />
            </div>
            <div class="mb-3">
              <label for="password" class="form-label">密碼</label>
              <input
                type="password"
                class="form-control"
                id="password"
                placeholder="請輸入密碼..."
              />
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary" id="loginBtn">
                登入
              </button>
            </div>
          </form>
          <div class="text-center mt-3">
            <a href="admin_register.html" class="btn btn-secondary">註冊</a>
          </div>
          <br />
          <div class="text-center mb-3">
            <a href="forgotpwd.html" class="forgot-password">忘記密碼？</a>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer customer-color mt-auto py-3 bg-light">
      <div class="container text-center">
        <span class="text-mutedcos"
          >Copyright &copy; 2023 TibaMe THA101-Team7 萃．練</span
        >
      </div>
    </footer>

    <script>
      $(document).ready(function () {
        $("#loginForm").submit(function (event) {
          event.prfeventDeault();
          var email = $("#email").val();
          var password = $("#password").val();

          $.ajax({
            type: "POST",
            url: "/login",
            data: JSON.stringify({ email: email, password: password }),
            contentType: "application/json",
            success: function (response) {
              // 登入成功的處理邏輯，例如導向其他頁面
              console.log(response);
            },
            error: function (xhr, status, error) {
              // 登入失敗的處理邏輯，例如顯示錯誤訊息
              var errorMessage = xhr.responseText;
              console.log(errorMessage);
            },
          });
        });
      });
    </script>
  </body>
</html>
